class TWBB_NavMenuActions{constructor(){}bulkEditMenu(t,e){this.addDisableClass();const a=[];t.each((function(){const t=jQuery(this).attr("data-title"),e=jQuery(this).find(".menu-item-data-db-id").val(),n=jQuery(this).find(".menu-item-data-object-id").val(),i=jQuery(this).find(".menu-item-data-object").val(),s=jQuery(this).find(".menu-item-data-type").val(),r=jQuery(this).find(".menu-item-data-position").val(),o=jQuery(this).find(".menu-item-data-parent-id").val(),b=jQuery(this).attr("data-url"),d=jQuery(this).attr("data-status");a.push({menu_item_db_id:e,item_id:n,item_title:t,object:i,item_type:s,item_position:r,item_parent_id:o,item_url:b,status:d})})),jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_nav_menu_changes",process:"editNavMenuBulkItems",nonce:twbb_website_nav.nonce,args:{menu_id:e,items:a}}}).done((t=>{t.success&&(this.updateOrdering(),this.reRenderNavMenu())})).always((()=>{this.removeDisableClass()}))}editMenuItem(t,e){this.addDisableClass();const a=t.attr("data-title"),n=t.find(".menu-item-data-db-id").val(),i=t.find(".menu-item-data-object-id").val(),s=t.find(".menu-item-data-object").val(),r=t.find(".menu-item-data-type").val(),o=t.find(".menu-item-data-position").val(),b=t.find(".menu-item-data-parent-id").val(),d=t.attr("data-url"),l=t.attr("data-status");jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_nav_menu_changes",process:"editNavMenuItem",nonce:twbb_website_nav.nonce,menu_id:e,menu_item_db_id:n,item_id:i,item_title:a,item_object:s,item_type:r,item_position:o,item_parent_id:b,item_url:d,status:l}}).done((t=>{t.success&&(this.updateOrdering(),this.reRenderNavMenu())})).always((()=>{this.removeDisableClass()}))}addMenuItem(t,e,a,n=!1){this.addDisableClass();const i=e.attr("data-id"),s=e.attr("data-title"),r=e.attr("data-object"),o=e.attr("data-type"),b=e.attr("data-url"),d=e.find(".menu-item-data-position").val()||0,l=e.find(".menu-item-data-parent-id").val()||0,u={action:"wn_nav_menu_changes",process:"addNavMenuItem",nonce:twbb_website_nav.nonce,menu_id:t,item_id:i,item_title:s,item_object:r,item_type:o,item_position:d,item_parent_id:l,item_url:b};(e.closest(".wn-action-tooltip-container").length||n)&&(u.return_last_added_item=!0),jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:u}).done((t=>{if(t.success){if(a){const n="custom"!==o;a(t.data,e,n)}this.reRenderNavMenu()}})).always((()=>{this.removeDisableClass()}))}removeMenuItem(t,e){this.addDisableClass();const a=t.find(".menu-item-data-db-id").val();jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_nav_menu_changes",process:"removeNavMenuItem",nonce:twbb_website_nav.nonce,menu_item_db_id:a}}).done((a=>{a.success&&(this.updateOrdering(),this.reRenderNavMenu(),e(t))})).always((()=>{this.removeDisableClass()}))}updateOrdering(){const t=jQuery(".twbb-website-nav-sidebar-nav-menus-items .menu-item"),e=[];t.each((function(){const t=jQuery(this).find(".menu-item-data-db-id").val(),a=jQuery(this).find(".menu-item-data-position").val();e.push({db_id:t,position:a})})),jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_nav_menu_changes",process:"updateNavMenuOrdering",nonce:twbb_website_nav.nonce,args:{menu_item_positions:e}}}).done((t=>{t.success&&this.showSavedLabel()}))}fillMenuItemSettings(t,e){const a=t.attr("data-id"),n=t.attr("data-object"),i=t.attr("data-type");t.find(".menu-item-data-db-id").val(e),t.find(".menu-item-data-object-id").val(a),t.find(".menu-item-data-object").val(n),t.find(".menu-item-data-type").val(i),t.find(".menu-item-settings").attr("id",`menu-item-settings-${e}`),t.find("input").each((function(){const t=jQuery(this),a=`${t.attr("name").slice(0,-1)}${e}]`;t.attr("name",a)}))}showSavedLabel(){jQuery(".twbb-saved-label").css("display","inline-block"),setTimeout((()=>{jQuery(".twbb-saved-label").css("display","none")}),2e3)}reRenderNavMenu(t=null,e=null){const a=jQuery("#elementor-preview-iframe")[0];t||(t=jQuery(".twbb-website-nav-sidebar-container").attr("data-page_where_is_menu")),e||(e=jQuery(".twbb-website-nav-sidebar-container").attr("data-nav_widget_id")),jQuery.ajax({url:twbb_options.ajaxurl,type:"POST",data:{action:"wn_nav_menu_changes",process:"changeNavMenuContent",postID:t,elementID:e,nonce:twbb_options.nonce}}).done((t=>{if(t.success){const n=jQuery("#elementor-preview-iframe").contents().find(`div[data-id=${e}]`);a.contentWindow.reRenderNavMenu(n,t.data)}}))}addDisableClass(){jQuery(".twbb-website-nav-sidebar-container").addClass("disable-ajax-in-progress")}removeDisableClass(){jQuery(".twbb-website-nav-sidebar-container").removeClass("disable-ajax-in-progress"),jQuery(".twbb-tooltip-parent-container").css("display","none")}}function twbb_navMenuSortable(){api={menuList:jQuery("#nav_menu_items"),pagesList:jQuery("#pages_items"),menuID:jQuery("#nav_menu_items").attr("data-nav_id"),options:{menuItemDepthPerLevel:40,globalMaxDepth:2,sortableItems:"> *",targetTolerance:0,good_for_action:"twbb-good-for-action"},init:function(){this.jQueryExtensions()},depthToPx:function(t){return t*api.options.menuItemDepthPerLevel},pxToDepth:function(t){return Math.floor(t/api.options.menuItemDepthPerLevel)},jQueryExtensions:function(){jQuery.fn.extend({menuItemDepth:function(){var t=this.eq(0).css("margin-left");return api.pxToDepth(t&&-1!==t.indexOf("px")?t.slice(0,-2):0)},updateDepthClass:function(t,e){return this.each((function(){var a=jQuery(this);e=e||a.menuItemDepth(),jQuery(this).removeClass("menu-item-depth-"+e).addClass("menu-item-depth-"+t)}))},shiftDepthClass:function(t){return this.each((function(){var e=jQuery(this),a=e.menuItemDepth(),n=a+t;if(e.removeClass("menu-item-depth-"+a).addClass("menu-item-depth-"+n),0===n)e.find(".menu-item-data-parent-id").val(0);else{var i=e.prevAll(".menu-item-depth-"+(n-1)).first();e.find(".menu-item-data-parent-id").val(i.find(".menu-item-data-db-id").val())}}))},childMenuItems:function(){var t=jQuery();return this.each((function(){for(var e=jQuery(this),a=e.menuItemDepth(),n=e.next(".menu-item");n.length&&n.menuItemDepth()>a;)t=t.add(n),n=n.next(".menu-item")})),t},updateParentMenuItemDBId:function(){return this.each((function(){var t=jQuery(this),e=t.find(".menu-item-data-parent-id"),a=parseInt(t.menuItemDepth(),10),n=a-1,i=t.prevAll(".menu-item-depth-"+n).first();0===a?e.val(0):e.val(i.find(".menu-item-data-db-id").val())}))}})}},api.init();var t,e,a,n,i,s,r,o,b,d,l=0,u=api.menuList.length?api.menuList.offset().left:"0",c=jQuery("body"),w=function(){if(!c[0].className)return 0;var t=c[0].className.match(/menu-max-depth-(\d+)/);return t&&t[1]?parseInt(t[1],10):0}();function m(t){var o;n=t.placeholder.prev(".menu-item"),i=t.placeholder.next(".menu-item"),n[0]===t.item[0]&&(n=n.prev(".menu-item")),i[0]===t.item[0]&&(i=i.next(".menu-item")),s=n.length?n.offset().top+n.height():0,r=i.length?i.offset().top+i.height()/3:0,e=i.length?i.menuItemDepth():0,a=n.length?(o=n.menuItemDepth()+1)>api.options.globalMaxDepth?api.options.globalMaxDepth:o:0}function p(t,e){t.placeholder.updateDepthClass(e,l),l=e}function h(t){var e,a=w;if(0!==t){if(t>0)(e=d+t)>w&&(a=e);else if(t<0&&d===w)for(;!jQuery(".menu-item-depth-"+a,api.menuList).length&&a>0;)a--;c.removeClass("menu-max-depth-"+w).addClass("menu-max-depth-"+a),w=a}}function v(){var t=1;return api.menuList.children().each((function(){jQuery(this).find(".menu-item-data-position").val(t),t++}))}function g(t,e){jQuery(".twbb-wn-add-menu-item-blue-button").css("display","none"),jQuery(".twbb-website-nav-sidebar-navigation-header .twbb-wn-add-item.wn-add-menu-item.twbb-wn-tooltip-parent").removeClass("twbb-wn-not-visible"),e.attr("data-nav_item_title",e.attr("data-title")),twbb_navMenuActions.fillMenuItemSettings(e,t),twbb_navMenuActions.updateOrdering(),analyticsDataPush("Website structure","Navigation menu edit","Left menu")}u+=0,api.menuList.length&&api.menuList.sortable({connectWith:".twbb_connectedSortable",handle:".menu-item-handle",placeholder:"sortable-placeholder",items:api.options.sortableItems,cursor:"grab",tolerance:"pointer",start:function(e,a){var n,i,s;a.item.addClass("ui-sort-in-progress"),b=a.item.children(".menu-item-transport"),t=a.item.menuItemDepth(),p(a,t),i=(a.item.next()[0]===a.placeholder[0]?a.item.next():a.item).childMenuItems(),b.append(i),n=b.outerHeight(),n+=n>0?1*a.placeholder.css("margin-top").slice(0,-2):0,n+=a.helper.outerHeight(),o=n,n-=2,a.placeholder.height(n),(s=a.placeholder.next(".menu-item")).css("margin-top",o+"px"),a.placeholder.detach(),jQuery(this).sortable("refresh"),a.item.after(a.placeholder),s.css("margin-top",0),m(a)},stop:function(e,a){if(a.item.removeClass("ui-sort-in-progress"),jQuery(".twbb-website-nav-sidebar-container").hasClass("disable-ajax-in-progress"))return jQuery(this).sortable("cancel"),b.children().insertAfter(a.item),void jQuery(this).sortable("refreshPositions");if(!a.item.hasClass(api.options.good_for_action)&&a.item.parent().hasClass("twbb-website-nav-sidebar-pages-items")){if(!jQuery(".twbb-navmenu-sidebar-other-to-pages-error").length){let t=jQuery("#twbb-navmenu-sidebar-other-to-pages-error-template").html();jQuery(".twbb-website-nav-sidebar-content").prepend(t).addClass("twbb-navmenu-sidebar-with-error")}jQuery(this).sortable("cancel")}if(a.item.hasClass(api.options.good_for_action)&&a.item.find(".menu-item-transport").eq(0).children().length&&a.item.parent().hasClass("twbb-website-nav-sidebar-pages-items")){if(!jQuery(".twbb-navmenu-sidebar-other-to-pages-error").length){let t=jQuery("#twbb-navmenu-sidebar-nested-to-pages-error-template").html();jQuery(".twbb-website-nav-sidebar-content").prepend(t).addClass("twbb-navmenu-sidebar-with-error")}jQuery(this).sortable("cancel")}a.item.hasClass(api.options.good_for_action)&&a.item.parent().hasClass("twbb-website-nav-sidebar-pages-items")&&(l=0);var n,i=l-t;let s=a.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-1").length?1:0,r=a.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-2").length?2:0,o=l;if(s&&(o+=s),r&&(o+=r),o>api.options.globalMaxDepth+1&&r||o>api.options.globalMaxDepth&&!r){if(!jQuery(".twbb-navmenu-sidebar-exceeded-max-depth-error").length){let t=jQuery("#twbb-navmenu-sidebar-exceeded-max-depth-error-template").html();jQuery(".twbb-website-nav-sidebar-content").prepend(t).addClass("twbb-navmenu-sidebar-with-error")}return jQuery(this).sortable("cancel"),b.children().insertAfter(a.item),void jQuery(this).sortable("refreshPositions")}n=b.children().insertAfter(a.item),0!==i&&(a.item.updateDepthClass(l),n.shiftDepthClass(i),h(i)),a.item.updateParentMenuItemDBId(),v(),a.item.hasClass(api.options.good_for_action)&&a.item.parent().hasClass("twbb-website-nav-sidebar-pages-items")?twbb_navMenuActions.removeMenuItem(a.item,twbb_removeNavMenuItemCallback):n=n.add(a.item),twbb_navMenuActions.bulkEditMenu(n,api.menuID),a.item[0].style.top=0,analyticsDataPush("Website structure","Navigation menu edit","Left menu")},change:function(t,e){e.placeholder.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")||e.placeholder.parent().hasClass("twbb-website-nav-sidebar-pages-items")||(n.length?n.after(e.placeholder):api.menuList.prepend(e.placeholder)),m(e)},sort:function(t,n){var b=n.helper.offset(),d=b.left,c=api.pxToDepth(d-u);if((!n.item.hasClass(api.options.good_for_action)||n.item.find(".menu-item-transport").eq(0).children().length)&&n.placeholder.parent().hasClass("twbb-website-nav-sidebar-pages-items"))return void n.placeholder.addClass("ui-placeholder-state-error");n.placeholder.removeClass("ui-placeholder-state-error"),c>a||b.top<s-api.options.targetTolerance?c=a:c<e&&(c=e),c!==l&&p(n,c);let w=n.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-1").length?1:0,h=n.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-2").length?2:0,v=l;w&&(v+=w),h&&(v+=h),v>api.options.globalMaxDepth+1&&h||v>api.options.globalMaxDepth&&!h?n.placeholder.addClass("ui-placeholder-state-error"):(n.placeholder.removeClass("ui-placeholder-state-error"),r&&b.top+o>r&&(i.after(n.placeholder),m(n),jQuery(this).sortable("refreshPositions")))}}),api.pagesList.length&&api.pagesList.sortable({connectWith:".twbb_connectedSortable",cursor:"grab",placeholder:"sortable-placeholder",cursorAt:{left:150,top:17},tolerance:"pointer",handle:".menu-item-handle",items:"> *",start:function(t,e){e.item.addClass("ui-sort-in-progress"),tempHolder=e.placeholder.next(".menu-item"),tempHolder.css("margin-top",o+"px"),e.placeholder.detach(),jQuery(this).sortable("refresh"),e.item.after(e.placeholder),tempHolder.css("margin-top",0),m(e)},change:function(t,e){e.placeholder.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")||e.placeholder.parent().hasClass("twbb-website-nav-sidebar-pages-items")||(n.length?n.after(e.placeholder):api.pagesList.prepend(e.placeholder),n.length?n.after(e.placeholder):api.pagesList.prepend(e.placeholder)),m(e)},stop:function(e,a){if(a.item.removeClass("ui-sort-in-progress"),jQuery(".twbb-website-nav-sidebar-container").hasClass("disable-ajax-in-progress"))return jQuery(this).sortable("cancel"),void 0!==b&&b.children().insertAfter(a.item),void jQuery(this).sortable("refreshPositions");if(a.item.hasClass("twbb-good-for-action")||!a.item.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")){if(a.item.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")){var n=l-t;let e=a.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-1").length?1:0,i=a.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-2").length?2:0,s=l;if(e&&(s+=e),i&&(s+=i),s>api.options.globalMaxDepth+1&&i||s>api.options.globalMaxDepth&&!i){if(!jQuery(".twbb-navmenu-sidebar-exceeded-max-depth-error").length){let t=jQuery("#twbb-navmenu-sidebar-exceeded-max-depth-error-template").html();jQuery(".twbb-website-nav-sidebar-content").prepend(t).addClass("twbb-navmenu-sidebar-with-error")}return jQuery(this).sortable("cancel"),void jQuery(this).sortable("refreshPositions")}0!==n&&(a.item.updateDepthClass(l),h(n)),a.item.updateParentMenuItemDBId(),v(),a.item[0].style.top=0,twbb_navMenuActions.addMenuItem(api.menuID,a.item,g)}a.item.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")||jQuery(this).sortable("cancel")}else{if(!jQuery(".twbb-navmenu-sidebar-draft-to-nav-error").length){let t=jQuery("#twbb-navmenu-sidebar-draft-to-nav-error-template").html();jQuery(".twbb-website-nav-sidebar-content").prepend(t).addClass("twbb-navmenu-sidebar-with-error")}jQuery(this).sortable("cancel")}},sort:function(t,n){if(n.item.hasClass("twbb-good-for-action")||!n.placeholder.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")){if(n.placeholder.removeClass("ui-placeholder-state-error"),n.placeholder.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")){var b=n.helper.offset(),d=b.left,c=api.pxToDepth(d-u);if((!n.item.hasClass(api.options.good_for_action)||n.item.find(".menu-item-transport").eq(0).children().length)&&n.placeholder.parent().hasClass("twbb-website-nav-sidebar-pages-items"))return void n.placeholder.addClass("ui-placeholder-state-error");n.placeholder.removeClass("ui-placeholder-state-error"),c>a||b.top<s-api.options.targetTolerance?c=a:c<e&&(c=e),c!==l&&p(n,c);let t=n.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-1").length?1:0,w=n.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-2").length?2:0,h=l;if(t&&(h+=t),w&&(h+=w),h>api.options.globalMaxDepth+1&&w||h>api.options.globalMaxDepth&&!w)return void n.placeholder.addClass("ui-placeholder-state-error");n.placeholder.removeClass("ui-placeholder-state-error"),r&&b.top+o>r&&(i.after(n.placeholder),m(n),jQuery(this).sortable("refreshPositions"))}}else n.placeholder.addClass("ui-placeholder-state-error")}}).disableSelection()}jQuery(document).ready((()=>{window.twbb_navMenuActions=new TWBB_NavMenuActions}));class TWBB_WebsiteNavigation{constructor(){this.init()}init(){this.events()}events(){this.openWebsiteNavigation(),this.addBlankPage(),this.removeWNError(),this.openTooltip(),this.closeTooltipOnClick(),this.openSubTooltip(),this.backToMainTooltip(),this.addMenuItemFromOptions(),this.addCustomLinkMenuItem(),this.searchMenuItem(),this.clearSearch(),this.tooltipContent(),this.removeMenuItem(),this.closeOnOtherSidebarsOpen(),this.openSettingsInnerPage()}openWebsiteNavigation(){let t=this;jQuery(document).on("click",".twbb_editor_nav_menu",(function(){analyticsDataPush("Website structure","Manage Navigation button click","Top bar"),t.websiteNavigationOpenFunctions(jQuery(this))}))}websiteNavigationOpenFunctions(t){twbb_triggerWebsiteNavigationButton(t),this.changePageStatusOnSave(),jQuery(".twbb-website-nav-sidebar-content").scroll((()=>{twbb_closeTooltip()}))}addBlankPage(){jQuery(document).on("click",".twbb-wn-add-blank-page",(()=>{const t=jQuery("#elementor-preview-iframe").contents().find("#twbb_new_blank_page-template").html();jQuery("body").append(t)}))}removeWNError(){jQuery(document).on("transitionend",".twbb-navmenu-sidebar-error",(function(){jQuery(this).remove(),jQuery(".twbb-navmenu-sidebar-error").length||jQuery(".twbb-website-nav-sidebar-content").removeClass("twbb-navmenu-sidebar-with-error")}))}openTooltip(){jQuery(document).on("click",".twbb-wn-tooltip-parent",(function(t){if(t.stopPropagation(),!jQuery(t.target).hasClass("twbb-wn-tooltip-parent"))return;twbb_closeTooltip();let e=jQuery(this).offset().top+jQuery(this).outerHeight()+10,a=jQuery(this).offset().left;if(jQuery(this).hasClass("twbb-empty-nav-tooltip-container")&&(e=jQuery(this).offset().top,a=jQuery(this).offset().left+jQuery(this).outerWidth()+10),jQuery(this).hasClass("wn-add-menu-item")){const t=jQuery("#twbb-wn-add-menu-item-action-tooltip").html();jQuery(this).find(".wn-add-menu-item-action-tooltip").length||jQuery(this).append(t),jQuery(".twbb-wn-secondary-container").hide(),jQuery(".wn-action-tooltip-container.twbb-wn-main-container").show()}const n=jQuery(this).find(".wn-action-tooltip");jQuery(this).addClass("twbb-opacity-1"),n.css({top:`${e}px`,left:`${a}px`,display:"block"}),jQuery(this).addClass("twbb_active")}))}closeTooltipOnClick(){jQuery(document).on("click",(t=>{jQuery(t.target).closest(".twbb-wn-tooltip-parent").length||twbb_closeTooltip()}))}openSubTooltip(){jQuery(document).on("click",".twbb-wn-main-container .twbb-wn-action-tooltip-item",(function(t){t.stopPropagation(),twbb_renderSubActionTooltip(jQuery(this))}))}backToMainTooltip(){jQuery(document).on("click",".twbb-wn-back-add-to-menu-button",(function(t){t.stopPropagation(),jQuery(this).closest(".twbb-wn-secondary-container").hide(),jQuery(".wn-action-tooltip-container.twbb-wn-main-container").show()})),jQuery(document).on("click",".twbb-wn-action-tooltip-title",(function(t){t.stopPropagation(),jQuery(this).closest(".twbb-wn-secondary-container").hide(),jQuery(".wn-action-tooltip-container.twbb-wn-main-container").show()}))}addMenuItemFromOptions(){jQuery(document).on("click",".twbb-wn-secondary-container .twbb-wn-action-tooltip-item",(function(t){if(t.stopPropagation(),jQuery(".twbb-website-nav-sidebar-container").hasClass("disable-ajax-in-progress"))return;const e=jQuery("#nav_menu_items").data("nav_id");twbb_navMenuActions.addMenuItem(e,jQuery(this),twbb_addNavSuccessCallback)}))}searchMenuItem(){jQuery(document).on("input",".twbb-wn-search",(function(){twbb_searchInit(jQuery(this))}))}clearSearch(){jQuery(document).on("click",".twbb-wn-clear-search",(function(){jQuery(this).closest(".twbb-wn-search-wrapper").find(".twbb-wn-search").val("");const t=jQuery(this).closest(".wn-action-tooltip-container");t.find(".twbb-wn-action-tooltip-item").show(),t.find(".twbb-wn-search-noresult").hide()}))}tooltipContent(){jQuery(document).on("mouseenter",".twbb-tooltip-parent-container-item",(function(t){if(!jQuery(t.target).hasClass("twbb-tooltip-parent-container-item"))return;const e=jQuery(this).attr("data-tooltip-text"),a=jQuery(this).offset().top+jQuery(this).outerHeight()+10,n=jQuery(this).offset().left;jQuery(".twbb-tooltip-parent-container .twbb-tooltip").text(e),jQuery(".twbb-tooltip-parent-container").css({top:`${a}px`,left:`${n}px`,display:"block"})})).on("mouseleave",".twbb-tooltip-parent-container-item",(()=>{jQuery(".twbb-tooltip-parent-container").hide()}))}removeMenuItem(){const t=this;jQuery(document).on("click",".twbb-wn-action-remove",(function(){const e=jQuery(this).closest(".twbb-website-nav-sidebar-item");t.removeMenuItemFromList(e)}))}removeMenuItemFromList(t,e=!1){if(jQuery(".twbb-website-nav-sidebar-container").hasClass("disable-ajax-in-progress"))return;const a=jQuery("#nav_menu_items"),n=t.childMenuItems();twbb_navMenuActions.removeMenuItem(t,twbb_removeNavMenuItemCallback,e),n.length&&(n.shiftDepthClass(-1),twbb_navMenuActions.bulkEditMenu(n,a.attr("data-nav_id")))}addCustomLinkMenuItem(){jQuery(document).on("click",".twbb-wn-add-custom-menu-item-button",(function(){if(jQuery(this).hasClass("disabled"))return;const t=jQuery(this).closest(".twbb-wn-secondary-container"),e=t.find("#wn-custom-link-nav-url").val(),a=jQuery("#nav_menu_items").data("nav_id");""!==e&&twbb_navMenuActions.addMenuItem(a,jQuery(this),twbb_addNavSuccessCallback),t.find("#wn-custom-link-nav-label").val(""),t.find("#wn-custom-link-nav-url").val("")}))}closeOnOtherSidebarsOpen(){window.$e.commands.on("run:before",(function(t,e,a){"panel/global/open"===e&&twbb_animateWebNavSidebar(0)})),jQuery(document).on("click",'.twbb-theme-customize-close, .twbb-sg-header-button-container, .twbb-customize-button, header button[value="document-settings"]',(()=>{twbb_animateWebNavSidebar(0)}))}openSettingsInnerPage(){window.twbb_websiteNavigationInnerSettings=new TWBB_WebsiteNavigationInnerSettings,jQuery(document).on("click",".twbb-wn-action-settings",(function(){let t=!1;jQuery(this).parents(".twbb-website-nav-sidebar-nav-menus-items").length>0&&(t=!0),twbb_renderInnerSettings(jQuery(this),t)}))}changePageStatusOnSave(){const t=elementor.config.document.id,e=elementor.config.document.status.value,a=jQuery(`.twbb-wn-item[data-id=${t}]`),n="publish"===e;this.itemStatusChange(n,a),elementor.saver.on("save",(t=>{"publish"===t.status&&this.itemStatusChange(!0,a)}))}itemStatusChange(t,e){let a=e.attr("data-status");if(!("publish"===a&&t||"draft"===a&&!t))if(t){e.attr("data-status","publish").addClass("twbb-good-for-action");let t=e.attr("data-id");jQuery(`.twbb-wn-item[data-id=${t}] .twbb-wn-status`).text("");let a=twbb_website_nav.auto_added_menus;const n=parseInt(jQuery("#nav_menu_items").attr("data-nav_id"));a&&a.includes(n)&&(jQuery(`.twbb-website-nav-sidebar-nav-menus-items .twbb-wn-item[data-id=${t}]`).length||(jQuery(".twbb-website-nav-sidebar-nav-menus-items").append(e),e.attr("data-nav_item_title",e.attr("data-title")),jQuery("#nav_menu_items, #pages_items").sortable("refresh")))}else e.attr("data-status","draft").removeClass("twbb-good-for-action"),e.find(".twbb-wn-status").text("Draft")}itemTitleChange(t,e){e.attr("data-title",t);const a=e.attr("data-id");jQuery(`.twbb-website-nav-sidebar-pages-items .twbb-wn-item[data-id=${a}] .twbb-wn-title`).text(t)}itemNavTitleChange(t,e){e.attr("data-nav_item_title",t);const a=e.attr("data-id");jQuery(`.twbb-website-nav-sidebar-nav-menus-items .twbb-wn-item[data-id=${a}] .twbb-wn-title`).text(t)}itemUrlSlugChange(t,e,a){a.attr("data-slug",t).attr("data-url",e)}itemCustomUrlChange(t,e){e.attr("data-url",t)}itemHomePageChange(t,e){jQuery(".twbb-website-nav-sidebar-item__title").removeClass("twbb-wn-home-page"),!0===t&&e.find(".twbb-website-nav-sidebar-item__title").addClass("twbb-wn-home-page")}}function twbb_renderInnerSettings(t,e=!1){let a=jQuery("#twbb-wn-inner-setting-page").html();const n=t.parents(".twbb-wn-item"),i=window.twbb_websiteNavigationInnerSettings;jQuery(".twbb-website-nav-sidebar-container").append(a);const s=n.attr("data-object"),r={page:"Page",post:"Post",custom:"Custom link",category:"Post category",tag:"Post tag",product_cat:"Product category",product_tag:"Product collection",product_brand:"Product brand"};let o=void 0!==r[s]?r[s]:twbb_capitalizeWords(s);jQuery(".twbb-wn-inner-pages-header-title").text(o+" settings");let b=i.renderInnerSettingsPage(n);jQuery(".twbb-wn-inner-pages-content").append(b),jQuery(".twbb-wn-inner-pages-settings-save").attr("data-element-id",n.attr("data-id")).attr("data-element-db-id",n.find(".menu-item-data-db-id").val()).attr("data-triggered-from-nav-menu",e).attr("data-object",n.attr("data-object"))}function twbb_triggerWebsiteNavigationButton(t){if(t.hasClass("disabled"))return;jQuery(".MuiBackdrop-invisible").trigger("click"),t.addClass("selected");if(jQuery(".MuiToolbar-root .MuiBox-root .MuiGrid-root:first-child .MuiStack-root:eq(1) .MuiBox-root:first-child button").removeClass("Mui-selected"),!jQuery(".twbb-website-nav-sidebar-container").length){let t=jQuery("#twbb-navmenu-sidebar-template").html();jQuery("#elementor-editor-wrapper-v2").append(t),twbb_navMenuSortable()}twbb_animateWebNavSidebar(1);let e=jQuery("#twbb-wn-add-menu-item-action-tooltip").html();jQuery(".wn-add-menu-item-action-tooltip").length||jQuery(".twbb-website-nav-sidebar-navigation-header .twbb-wn-add-item.wn-add-menu-item").append(e)}function twbb_animateWebNavSidebar(t){t?(jQuery(".twbb-website-nav-sidebar-container").removeClass("hide").addClass("show"),setTimeout((function(){let t=jQuery(window).width()-380,e=jQuery("#elementor-panel").width();jQuery("#elementor-preview").css({width:`${t}px`,"margin-left":380-`${parseInt(e)}px`}),jQuery("body").addClass("twbb-website-navigation-sidebar-opened"),void 0!==twbb_options.smart_scale_option&&"active"===twbb_options.smart_scale_option?twbbIframeScale(1,380):(twbbIframeScale(0),jQuery("#elementor-preview").css("margin-left","100px")),jQuery("#elementor-editor-wrapper").addClass("twbb-animate-sidebar-open")}),100)):(twbb_closeWebsiteNavigation(),setTimeout((function(){jQuery("#elementor-editor-wrapper").removeClass("twbb-animate-sidebar-open")}),500),jQuery("#elementor-preview").removeAttr("style"),void 0!==twbb_options.smart_scale_option&&"active"===twbb_options.smart_scale_option?twbbIframeScale(1):twbbIframeScale(0),jQuery("body").removeClass("twbb-website-navigation-sidebar-opened"))}function twbb_closeWebsiteNavigation(){jQuery('.MuiButtonBase-root[aria-label="Add Element"]').addClass("Mui-selected"),jQuery(".twbb-website-nav-sidebar-container").removeClass("show").addClass("hide")}function twbb_webNavSidebarErrorClose(t){jQuery(`.${t}`).addClass("remove-animation")}jQuery(document).ready((function(){window.twbb_websiteNavigation=new TWBB_WebsiteNavigation}));let twbb_page=[],twbb_finished=[],twbb_loading=!1,twbb_lastScrollTop=0;function twbb_renderSubActionTooltip(t,e=1,a=!1){if(twbb_loading)return;let n=t.data("post-type"),i=t.data("type"),s=t.closest(".wn-add-menu-item-action-tooltip").find(`.wn-action-tooltip-container[data-post-type="${n}"]`),r=t.text();void 0===twbb_finished[n]&&(twbb_finished[n]=!1),twbb_attachScroll(t.closest(".wn-add-menu-item-action-tooltip"),t),"custom"===n||s.length&&(!a||twbb_finished[n])||(twbb_loading=!0,s.length>0&&s.find(".twbb-wn-action-tooltip-items").append('<div class="twbb-wn-item-loading"></div>'),jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_get_available_menu_items",post_type:n,type:i,html_title:r,nav_menu_id:jQuery("#nav_menu_items").data("nav_id"),nonce:twbb_website_nav.nonce,page:e}}).done((a=>{if(a.success){let i=t.closest(".wn-add-menu-item-action-tooltip"),s=a.data.content;1===e?i.append(s):""===s?twbb_finished[n]=!0:(i.find(".twbb-wn-action-tooltip-items:visible").append(s),a.data.items.length<10&&(twbb_finished[n]=!0))}})).always((()=>{jQuery(".twbb-wn-item-loading").remove(),twbb_loading=!1}))),jQuery(".twbb-wn-main-container").css("display","none"),s.length>0?s.css("display","block"):jQuery(".wn-action-tooltip.wn-add-menu-item-action-tooltip").prepend('<div class="twbb-wn-item-loading"></div><div class="twbb-wn-item-loading"></div><div class="twbb-wn-item-loading"></div>')}function twbb_attachScroll(t,e){t.off("scroll.twbb").on("scroll.twbb",(function(){let a=e.data("post-type");if("custom"===a||twbb_loading||twbb_finished[a])return;const n=t.scrollTop(),i=t.prop("scrollHeight"),s=t.outerHeight();n>twbb_lastScrollTop&&n+s>=i-50&&(void 0!==twbb_page[a]?twbb_page[a]++:twbb_page[a]=2,twbb_renderSubActionTooltip(e,twbb_page[a],!0)),twbb_lastScrollTop=n}))}function twbb_addNavSuccessCallback(t,e,a=!0){let n=jQuery("#nav_menu_items");e.find(".twbb-wn-add-item-to-page").css("background-image","none"),e.find(".twbb-wn-add-item-to-page").append('<i class="fas fa-check"></i>'),e.attr("data-nav_item_title",e.attr("data-title")),n.append(t),n.sortable("refresh"),"page"===e.data("object")?(jQuery(`#pages_items .twbb-wn-item[data-id="${e.data("id")}"]`).remove(),jQuery("#pages_items").sortable("refresh")):1===e.closest(".twbb-wn-action-tooltip-items").children(".twbb-wn-action-tooltip-item").length&&jQuery(`.twbb-wn-main-container .twbb-wn-action-tooltip-item[data-post-type="${e.data("post_type")}"]`).addClass("twbb-wn-item-not-available"),a&&setTimeout((function(){jQuery(".twbb-wn-action-tooltip-items").find(`.twbb-wn-action-tooltip-item[data-id=${e.attr("data-id")}]`).remove()}),500),jQuery(".twbb-wn-add-menu-item-blue-button").css("display","none"),jQuery(".twbb-website-nav-sidebar-navigation-header .twbb-wn-add-item.wn-add-menu-item.twbb-wn-tooltip-parent").removeClass("twbb-wn-not-visible"),twbb_updateMenuItemPositions(n),twbb_navMenuActions.updateOrdering(),analyticsDataPush("Website structure","Navigation menu edit","Left menu")}function twbb_removeNavMenuItemCallback(t){let e=jQuery("#nav_menu_items"),a=jQuery("#pages_items"),n=t.attr("data-object"),i=jQuery(`.twbb-wn-type-${n}`);if(t.removeAttr("data-nav_item_title"),t.find(".twbb-wn-title").text(t.attr("data-title")),"page"===n)t.updateDepthClass(0),a.prepend(t),a.sortable("refresh");else{i=jQuery(`.twbb-wn-action-tooltip-item[data-post-type="${t.attr("data-object")}"]`);let e=jQuery(`.wn-action-tooltip-container.twbb-wn-secondary-container[data-post-type="${n}"]`),a=`<div class="twbb-wn-action-tooltip-item twbb-wn-flex-space-between"\n            data-type="${t.attr("data-type")}" data-post_type="${n}"\n            data-id="${t.attr("data-id")}" data-title="${t.attr("data-title")}"\n            data-object="${n}" data-url="${t.attr("data-url")}">\n                <span>${t.attr("data-title")}</span><span class="twbb-wn-add-item-to-page"></span></div>`;i.length&&e.length&&(i.removeClass("twbb-wn-item-not-available"),e.each((function(){jQuery(this).find(".twbb-wn-action-tooltip-items").find(`.twbb-wn-action-tooltip-item[data-id=${t.attr("data-id")}]`).length||jQuery(this).find(".twbb-wn-action-tooltip-items").append(a)}))),t.remove()}if(e.sortable("refresh"),twbb_updateMenuItemPositions(e),!jQuery(".twbb-website-nav-sidebar-nav-menus-items > .twbb-wn-item").length){if(jQuery(".twbb-wn-add-menu-item-blue-button").length)jQuery(".twbb-wn-add-menu-item-blue-button").css("display","block");else{let t=jQuery("#twbb-wn-add-menu-item-button").html();jQuery(".twbb-website-nav-sidebar-nav-menus-items").append(t)}jQuery(".twbb-website-nav-sidebar-navigation-header .twbb-wn-add-item.wn-add-menu-item.twbb-wn-tooltip-parent").addClass("twbb-wn-not-visible")}analyticsDataPush("Website structure","Navigation menu edit","Left menu")}function twbb_updateMenuItemPositions(t){let e=0;t.children().each((function(){jQuery(this).find(".menu-item-data-position").val(e),e++}))}function twbb_closeTooltip(){let t=jQuery(".twbb-website-nav-sidebar-item__actions");t.length&&t.removeClass("twbb-wn-visible-tooltip"),jQuery(".wn-action-tooltip").css("display","none"),jQuery(".twbb-wn-add-item").removeClass("twbb_active"),jQuery(".twbb-wn-tooltip-parent").removeClass("twbb-opacity-1")}function twbb_customLinkInputFunction(t){let e=jQuery(t).closest(".twbb-wn-secondary-container"),a=e.find("#wn-custom-link-nav-label").val()?e.find("#wn-custom-link-nav-label").val():"Menu Item",n=e.find("#wn-custom-link-nav-url"),i=n.val()?n.val():"",s=e.find(".twbb-wn-add-custom-menu-item-button");""!==i?s.removeClass("disabled"):s.addClass("disabled"),s.attr("data-title",a).attr("data-url",i)}function twbb_searchInit(t){let e=t.val().toLowerCase();""!==e?t.closest(".twbb-wn-search-wrapper").find(".twbb-wn-clear-search").show():t.closest(".twbb-wn-search-wrapper").find(".twbb-wn-clear-search").hide();let a=0;t.closest(".wn-action-tooltip-container").find(".twbb-wn-action-tooltip-item").each((function(){jQuery(this).find("span").first().text().toLowerCase().includes(e)?(jQuery(this).show(),a=1):jQuery(this).hide()})),a?t.closest(".wn-action-tooltip-container").find(".twbb-wn-search-noresult").hide():t.closest(".wn-action-tooltip-container").find(".twbb-wn-search-noresult").show()}function twbb_capitalizeWords(t){return t.split(" ").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" ")}class TWBB_WebsiteNavigationInnerSettings{constructor(){this.init()}init(){this.bindEvents()}bindEvents(){this.closeSettingsInnerPage(),this.inputCheckboxChange(),this.inputValidationOnBlur(),this.saveSettings(),this.postDuplication(),this.moveToTrash()}closeSettingsInnerPage(){jQuery(document).on("click",".twbb-wn-back-to-main-sidebar",(function(t){jQuery(".twbb-wn-inner-settings-page").remove()})),jQuery(document).on("click",".twbb-wn-inner-pages-header-title",(function(t){jQuery(".twbb-wn-inner-settings-page").remove()}))}inputCheckboxChange(){jQuery(document).on("change",'.twbb-wn-checkbox-box input[type="checkbox"]',(function(){jQuery(this).hasClass("twbb-input-has-changed")||jQuery(this).addClass("twbb-input-has-changed");const t=jQuery(".twbb-wn-inner-pages-settings-save");jQuery(this).is(":checked")?(jQuery(this).parents(".twbb-wn-checkbox-box").addClass("checked"),"wn-status-setting-id"===jQuery(this).attr("id")&&(jQuery(this).parents(".twbb-wn-checkbox-box-container").find(".twbb-wn-checkbox-label-status").text("Publish"),jQuery(this).parent(".twbb-wn-switcher").find(".twbb-wn-slide-switcher.twbb-tooltip-parent-container-item").attr("data-tooltip-text","Move to Draft"),jQuery(".twbb-wn-show-in-nav-setting").removeClass("disabled"),jQuery(".twbb-wn-show-in-nav-setting input").attr("disabled",!1),jQuery(".twbb-wn-home-page-setting").removeClass("disabled"),jQuery(".twbb-wn-home-page-setting input").attr("disabled",!1))):(jQuery(this).parents(".twbb-wn-checkbox-box").removeClass("checked"),"wn-status-setting-id"===jQuery(this).attr("id")&&(jQuery(this).parents(".twbb-wn-checkbox-box-container").find(".twbb-wn-checkbox-label-status").text("Draft"),jQuery(this).parent(".twbb-wn-switcher").find(".twbb-wn-slide-switcher.twbb-tooltip-parent-container-item").attr("data-tooltip-text","Publish"),jQuery(".twbb-wn-show-in-nav-setting").addClass("disabled").removeClass("checked"),jQuery(".twbb-wn-show-in-nav-setting input").attr("disabled",!0).prop("checked",!1).addClass("twbb-input-has-changed"),jQuery(".twbb-wn-home-page-setting").addClass("disabled").removeClass("checked"),jQuery(".twbb-wn-home-page-setting input").attr("disabled",!0).prop("checked",!1).addClass("twbb-input-has-changed"))),t.hasClass("wn-change-exists")||t.addClass("wn-change-exists")})),jQuery(document).on("input",'.twbb-wn-checkbox-box input[type="checkbox"], .twbb-wn-input-box input[type="text"]',(function(){jQuery(this).hasClass("twbb-input-has-changed")||jQuery(this).addClass("twbb-input-has-changed"),"wn-status-setting-id"===jQuery(this).attr("id")&&(jQuery("#wn-url-slug-setting-id").hasClass("twbb-input-has-changed")||jQuery("#wn-url-slug-setting-id").addClass("twbb-input-has-changed")),""!==jQuery(this).val().trim()&&jQuery(this).parent(".twbb-wn-input-box").removeClass("wn-input-with-error");const t=jQuery(".twbb-wn-inner-pages-settings-save");t.hasClass("wn-change-exists")||t.addClass("wn-change-exists")}))}inputValidationOnBlur(){jQuery(document).on("blur",'.twbb-wn-input-box input[type="text"]',(function(){""===jQuery(this).val().trim()?(jQuery(this).parent(".twbb-wn-input-box").addClass("wn-input-with-error"),jQuery(".twbb-wn-inner-pages-settings-save").removeClass("wn-change-exists")):jQuery(this).parent(".twbb-wn-input-box").removeClass("wn-input-with-error")}))}saveSettings(){jQuery(document).on("click",".twbb-wn-inner-pages-settings-save",(function(t){if(t.stopPropagation(),!jQuery(this).hasClass("wn-change-exists"))return;const e=jQuery(this),a=e.attr("data-element-id"),n=e.attr("data-element-db-id"),i=jQuery(`.twbb-wn-item[data-id=${a}]`),s=i.attr("data-type"),r=i.attr("data-object");let o={action:"wn_change_item_settings",nonce:twbb_website_nav.nonce,element_object_id:a,element_db_id:n,type:s,object:r},b="",d=jQuery(".twbb-wn-element-setting-box input");if(d.each((function(){jQuery(this).hasClass("twbb-input-has-changed")&&(b=jQuery(this).attr("data-attr-name"),"checkbox"===jQuery(this).attr("type")?o[b]=jQuery(this).is(":checked"):o[b]=jQuery(this).val())})),d.attr("disabled",!0),e.addClass("twbb-wn-button-loading"),void 0!==o.show_in_nav){const t=jQuery("#nav_menu_items").data("nav_id");o.show_in_nav?twbb_navMenuActions.addMenuItem(t,i,twbb_addNavSuccessCallback,!0):(window.twbb_websiteNavigation.removeMenuItemFromList(i),"page"!==r&&jQuery(".twbb-wn-inner-settings-page").remove())}i.find(".twbb-wn-home-page").length>0&&!1===o.home_page&&o.home_page,jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:o}).done((t=>{if(t.success){for(const e in o)if(o.hasOwnProperty(e)){const a=o[e];switch(e){case"title":window.twbb_websiteNavigation.itemTitleChange(a,i);break;case"nav_item_title":window.twbb_websiteNavigation.itemNavTitleChange(a,i);break;case"slug":window.twbb_websiteNavigation.itemUrlSlugChange(a,t.data.url,i),jQuery(".twbb-wn-url-slug-setting-description").text(t.data.url).attr("href",t.data.url);break;case"url":window.twbb_websiteNavigation.itemCustomUrlChange(a,i),jQuery(".twbb-wn-description.twbb-wn-url-slug-setting-description").text(a).attr("href",a);break;case"status":window.twbb_websiteNavigation.itemStatusChange(a,i);break;case"home_page":window.twbb_websiteNavigation.itemHomePageChange(a,i)}}window.twbb_navMenuActions.reRenderNavMenu()}})).always((()=>{d.attr("disabled",!1),e.attr("disabled",!1),e.removeClass("wn-change-exists").removeClass("twbb-wn-button-loading")})),"true"===jQuery(this).attr("data-triggered-from-nav-menu")?analyticsDataPush("Website structure","Element settings edit",`Navigation menu ${r}`):analyticsDataPush("Website structure","Element settings edit",r)}))}postDuplication(){jQuery(document).on("click",".twbb-wn-duplicate-setting",(function(t){t.stopPropagation();const e=jQuery(".twbb-wn-inner-pages-settings-save").attr("data-element-id");let a="edit";jQuery("#edit-page-content-link a").attr("href").includes("&action=elementor")&&(a="elementor"),window.TwbbPostDuplicator.duplicatePost(e,a).then((t=>{window.open(t,"_blank")})).catch((t=>{console.error("Error duplicating post:",t)}))}))}moveToTrash(){jQuery(document).on("click",".twbb-wn-move-to-trash-setting",(()=>{}))}renderInnerSettingsPage(t){const e="Title",a="Navigation label",n="The navigation title is the page name in the menu.",i="URL slug",s="Show in navigation menu",r="Page status",o="Set as Home Page",b="This page will be set as the home page of your website.",d="Duplicate",l="Edit page",u=t.attr("data-object");let c="";if("custom"===u)c+=this.generateTextInputField("wn-url-slug-setting-id","wn-url-slug-setting","URL*",t.attr("data-url"),`<a class="twbb-wn-description twbb-wn-url-slug-setting-description" href="${t.attr("data-url")}" target="_blank">${t.attr("data-url")}</a>`,"url","URL slug cannot be empty."),c+=this.generateTextInputField("wn-nav-label-setting-id","wn-nav-label-setting",a,t.attr("data-nav_item_title"),`<span class="twbb-wn-description">${n}</span>`,"nav_item_title","Navigation label cannot be empty."),c+=this.generateCheckbox("wn-show-in-nav-setting-id",s,t.parents("#nav_menu_items").length>0,"twbb-wn-show-in-nav-setting","","","show_in_nav","active");else{c+=this.generateTextInputField("wn-title-setting-id","wn-title-setting",e,t.attr("data-title"),"","title","Page title cannot be empty."),void 0!==t.attr("data-nav_item_title")&&(c+=this.generateTextInputField("wn-nav-label-setting-id","wn-nav-label-setting",a,t.attr("data-nav_item_title"),`<span class="twbb-wn-description">${n}</span>`,"nav_item_title","Navigation label cannot be empty.")),c+=this.generateTextInputField("wn-url-slug-setting-id","wn-url-slug-setting",i,t.attr("data-slug"),`<a class="twbb-wn-description twbb-wn-url-slug-setting-description" href="${t.attr("data-url")}" target="_blank">${t.attr("data-url")}</a>`,"slug","URL slug cannot be empty.");let w="";"page"===u&&(w="twbb-wn-bordered-box",c+=this.generateCheckbox("wn-status-setting-id",`${r}: <span class="twbb-wn-checkbox-label-status">${"publish"===t.attr("data-status")?"Publish":"Draft"}</span>`,"publish"===t.attr("data-status"),"twbb-wn-status-setting","",`${w}_up`,"status","active"));const m="publish"===t.attr("data-status")?"active":"disabled";c+=this.generateCheckbox("wn-show-in-nav-setting-id",s,t.parents("#nav_menu_items").length>0,"twbb-wn-show-in-nav-setting "+("active"===m?"":"disabled"),"",`${w}_bottom`,"show_in_nav",t.parents("#nav_menu_items").length>0?"active":m),"page"===u&&(c+=this.generateCheckbox("wn-home-page-setting-id",o,t.find(".twbb-wn-home-page").length>0,"twbb-wn-home-page-setting "+("active"===m?"":"disabled"),b,"","home_page",t.find(".twbb-wn-home-page").length>0?"active":m),c+=`<div class="twbb-wn-element-setting-box twbb-wn-link-box twbb-wn-duplicate-setting">\n                <span class="twbb-wn-tooltip-links">${d}</span>\n            </div>`,c+=this.generateLinkBox("edit-page-content-link",l,t.attr("data-content_edit_link"),"twbb-wn-edit-content-setting","")),"page"!==u&&(w="",""!==t.attr("data-template_link")&&void 0!==t.attr("data-template_link")&&("taxonomy"!==t.attr("data-type")&&(w="twbb-wn-bordered-box"),c+=this.generateLinkBox("edit-template-link",`Edit ${t.attr("data-template_title")} template`,t.attr("data-template_link"),`twbb-wn-edit-template-setting  ${w}_up`,"")),"taxonomy"!==t.attr("data-type")&&(c+=this.generateLinkBox("edit-content-link",`Edit ${t.attr("data-nav_label")} content`,t.attr("data-content_edit_link"),`twbb-wn-edit-content-setting  ${w}_bottom`,"")))}return c}generateTextInputField(t,e,a,n,i="",s="",r=""){return`\n    <div class="twbb-wn-element-setting-box twbb-wn-input-box ${t}">\n        <label for="${t}">${a}</label>\n        <input type="text" id="${t}" name="${e}" value="${n}" data-attr-name="${s}"/>\n        <span class="twbb-wn-error-message">${r}</span>\n        ${i?`${i}`:""}\n    </div>`}generateCheckbox(t,e,a,n="",i="",s="",r="",o=""){return`\n    <div class="twbb-wn-element-setting-box twbb-wn-checkbox-box ${a?"checked":""} ${n}">\n        <div class="twbb-wn-checkbox-box-container ${s}">\n            <span>${e}</span>\n            <label class="twbb-wn-switcher">\n                <input id="${t}" type="checkbox" ${a?"checked":""} data-attr-name="${r}"\n                ${"active"===o?"":"disabled"}>\n                ${"wn-status-setting-id"===t?`\n                <span class="twbb-wn-slide-switcher twbb-tooltip-parent-container-item" \n                            data-tooltip-text="${a?"Move to Draft":"Publish"}"></span>`:'<span class="twbb-wn-slide-switcher"></span>'}  \n            </label>\n        </div>\n        ${i?`<span class="twbb-wn-description">${i}</span>`:""}\n    </div>`}generateLinkBox(t,e,a,n="",i=""){return`\n    <div class="twbb-wn-element-setting-box twbb-wn-link-box ${n}" id="${t}">\n        <a class="twbb-wn-tooltip-links" href="${a}" target="_blank">\n            ${e}\n        </a>\n        ${i?`<span class="twbb-wn-description">${i}</span>`:""}\n    </div>`}}